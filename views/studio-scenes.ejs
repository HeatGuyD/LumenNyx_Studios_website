<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scenes – LumenNyx Studios</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body class="model-portal">
  <header class="site-header">
    <div class="site-header-inner">
      <a href="/" class="brand-link">
        <span class="brand-mark">
          <img src="/img/lumennyx-mark.png" alt="LumenNyx Studios logo">
        </span>
        <span class="brand-text">LUMENNYX STUDIOS</span>
      </a>

      <nav class="main-nav">
        <a href="/studio-panel">Studio Panel</a>
        <a href="/studio-panel/models">Models</a>
        <a href="/studio-panel/scenes" class="active">Scenes</a>
        <a href="/2257">2257</a>
        <form action="/logout" method="POST" style="display:inline;">
          <button type="submit" class="btn secondary" style="padding:0.3rem 0.9rem;font-size:0.75rem;">
            Logout
          </button>
        </form>
      </nav>
    </div>
  </header>

  <main class="page-wrapper">
    <section class="portal-section">
      <h3>Scenes & Shoots</h3>
      <p class="portal-note">
        Use this section to track each scene you film, including shoot date,
        internal code, and where the footage is stored. Tag models on each scene
        to keep a clean record of who appeared where.
      </p>

      <% if (message) { %>
        <div class="alert success"><%= message %></div>
      <% } %>
      <% if (error) { %>
        <div class="alert error"><%= error %></div>
      <% } %>
    </section>

    <!-- Create new scene -->
    <section class="portal-section">
      <h3>Create New Scene</h3>

      <form action="/studio-panel/scenes/new" method="POST" class="portal-form">
        <label>
          Scene title *
          <input type="text" name="title" required>
        </label>

        <label>
          Internal scene code (optional – e.g. LN-2025-001)
          <input type="text" name="code">
        </label>

        <label>
          Shoot date (YYYY-MM-DD)
          <input type="date" name="shoot_date">
        </label>

        <label>
          Status (e.g. Planned, Filmed, Editing, Released)
          <input type="text" name="status">
        </label>

        <label>
          Storage location note (drive/folder or platform)
          <input type="text" name="storage_note" placeholder="e.g. NAS:/LumenNyx/2025/Scene_001.mp4">
        </label>

        <label>
          Brief description / notes
          <textarea name="description"></textarea>
        </label>

        <button type="submit" class="btn primary">Create Scene</button>
      </form>
    </section>

    <!-- List existing scenes -->
    <section class="portal-section">
      <h3>Existing Scenes</h3>

      <% if (!scenes || scenes.length === 0) { %>
        <p>No scenes have been created yet.</p>
      <% } else { %>
        <div class="documents-list">
          <table>
            <thead>
              <tr>
                <th>Title</th>
                <th>Code</th>
                <th>Shoot Date</th>
                <th>Status</th>
                <th>Storage</th>
                <th>Open</th>
              </tr>
            </thead>
            <tbody>
              <% scenes.forEach(function(s) { %>
                <tr>
                  <td><%= s.title %></td>
                  <td><%= s.code || '-' %></td>
                  <td><%= s.shoot_date || '-' %></td>
                  <td><%= s.status || '-' %></td>
                  <td style="max-width:260px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">
                    <%= s.storage_note || '-' %>
                  </td>
                  <td>
                    <a href="/studio-panel/scenes/<%= s.id %>" class="btn secondary" style="font-size:0.8rem;padding:0.25rem 0.8rem;">
                      View / Tag
                    </a>
                  </td>
                </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      <% } %>
    </section>
  </main>
</body>
</html>
